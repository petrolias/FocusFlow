@page "/dashboard"

<h3>Dashboard</h3>

<div>
    <h4>Project Statistics</h4>
    <ul>
        <li>Total Tasks: @totalTasks</li>
        <li>Completed Tasks: @completedTasks</li>
        <li>Overdue Tasks: @overdueTasks</li>
    </ul>
</div>

@code {
    private int totalTasks = 0;
    private int completedTasks = 0;
    private int overdueTasks = 0;

    [Inject]
    private HttpClient Http { get; set; }

    protected override async Task OnInitializedAsync()
    {
        var statistics = await Http.GetFromJsonAsync<TaskStatistics>("api/tasks/statistics");
        totalTasks = statistics.TotalTasks;
        completedTasks = statistics.CompletedTasks;
        overdueTasks = statistics.OverdueTasks;
    }

    public class TaskStatistics
    {
        public int TotalTasks { get; set; }
        public int CompletedTasks { get; set; }
        public int OverdueTasks { get; set; }
    }
}